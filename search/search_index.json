{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"ASIX2 - 0374 - Administraci\u00f3 de Sistemes Operatius","text":"<p>Aquest repositori cont\u00e9 el material del m\u00f2dul ASIX2 - 0374 - Administraci\u00f3 de Sistemes Operatius desenvolupat per Vitaliy Domin.</p> <ul> <li>\u00cdndex i enlla\u00e7os a les unitats del curs.  </li> <li>Recursos en format PDF, v\u00eddeos i exemples pr\u00e0ctics.  </li> <li>Codi i pr\u00e0ctiques guiades.  </li> </ul>"},{"location":"#llicencia","title":"Llic\u00e8ncia","text":"<p>El contingut est\u00e0 sota llic\u00e8ncia Creative Commons BY-NC-SA 4.0 ES.</p>"},{"location":"#contingut-del-curs","title":"Contingut del curs","text":"<ul> <li>Configuraci\u00f3 d\u2019inici amb serveis personalitzats W  </li> <li>Creaci\u00f3 d\u2019entorn d\u2019arrencada amb systemd L  </li> <li>Gesti\u00f3 de kernels i m\u00f2duls del sistema L  </li> <li>Servidor d\u2019impressi\u00f3 amb Windows i control d\u2019acc\u00e9s per domini  </li> <li>Servidor d\u2019impressi\u00f3 a Ubuntu amb CUPS/Samba  </li> <li>Connexi\u00f3 de clients Windows i Ubuntu a servidors d\u2019impressi\u00f3 heterogenis  </li> <li>Automatitzaci\u00f3 funcional adaptada al context d\u2019\u00fas W  </li> <li>Automatitzaci\u00f3 funcional adaptada al context d\u2019\u00fas L  </li> <li>RSAT, VPN i RDP W  </li> <li>Centralitzaci\u00f3 d\u2019usuaris amb un AD  </li> <li>Ansible vs FOG  </li> <li>Personalitzaci\u00f3 de sistemes operatius L  </li> <li>NAS  </li> <li>Projecte</li> </ul> Llic\u00e8ncia \u00b7             CC BY-NC-SA 4.0           \u00a9 2025 \u00b7 Vitaliy"},{"location":"LICENSE/","title":"Licencia Creative Commons Reconocimiento - No Comercial - Compartir Igual 4.0 Internacional (CC BY-NC-SA 4.0)","text":"<p>Este trabajo est\u00e1 licenciado bajo la Licencia Creative Commons Reconocimiento - No Comercial - Compartir Igual 4.0 Internacional (CC BY-NC-SA 4.0).</p>"},{"location":"LICENSE/#resumen","title":"Resumen","text":"<p>Esta licencia permite que otros compartan, copien y distribuyan tu trabajo, as\u00ed como adaptarlo o transformarlo, siempre que:</p> <ul> <li>Reconozcan la autor\u00eda original.</li> <li>No utilicen el trabajo con fines comerciales.</li> <li>Distribuyan las obras derivadas bajo la misma licencia.</li> </ul>"},{"location":"LICENSE/#texto-legal-completo","title":"Texto legal completo","text":"<p>Puedes consultar el texto completo de la licencia aqu\u00ed: https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode.es</p>"},{"location":"LICENSE/#atribucion-y-condiciones","title":"Atribuci\u00f3n y condiciones","text":"<p>Se debe dar cr\u00e9dito adecuado, proporcionar un enlace a esta licencia e indicar si se han realizado cambios. Cualquier obra derivada debe distribuirse con la misma licencia y no se pueden imponer restricciones adicionales.</p> <p>\u00a9 2025 Vitaliy Domin</p>"},{"location":"unidad1/unidad/","title":"Blue Team","text":""},{"location":"unidad1/unidad/#part-del-servidor","title":"Part del servidor","text":"<p>Per aquest apartat he decidit implementar tant la part de Blue Team com la de Red Team.</p> <p>En primer lloc, he creat un contenidor Docker en un altre equip amb Ubuntu Desktop, que actuar\u00e0 com a servidor. Dins d\u2019aquest contenidor he desenvolupat una API encarregada de rebre informaci\u00f3. Com que ja s\u00e9 quin tipus de dades cal capturar, he creat una p\u00e0gina web amb Flask i HTML per mostrar-les de manera visual.</p>"},{"location":"unidad1/unidad/#part-del-client","title":"Part del client","text":"<p>Pel que fa al client, cal executar la comanda:</p> <pre><code>nano /etc/systemd/system/client.service\n</code></pre> <p>A continuaci\u00f3, s\u2019han d\u2019introduir els par\u00e0metres que es mostren a la imatge adjunta.</p> <p></p> <p>Posteriorment, crearem l\u2019script .sh amb les dades que volem recollir. Aquest script es desar\u00e0 a la ruta:</p> <pre><code>nano /usr/local/bin/client-logs.sh\n</code></pre> <p></p> <p>La seva funci\u00f3 principal \u00e9s obtenir informaci\u00f3 sobre la m\u00e0quina, aix\u00ed com registrar els logs dels errors cr\u00edtics i tamb\u00e9 els intents fallits d\u2019acc\u00e9s per SSH.</p>"},{"location":"unidad1/unidad/#execucio-de-lscript","title":"Execuci\u00f3 de l\u2019script","text":"<p>Un cop creat l\u2019script, li donem permisos d\u2019execuci\u00f3 amb la comanda:</p> <pre><code>chmod +x nom_del_script.sh\n</code></pre>"},{"location":"unidad1/unidad/#configuracio-del-servei","title":"Configuraci\u00f3 del servei","text":"<p>Despr\u00e9s, reiniciem el daemon-reload i activem el servei:</p> <pre><code>sudo systemctl daemon-reload\n</code></pre> <pre><code>sudo systemctl enable client.service\n</code></pre> <p>En aquest punt podem reiniciar el proc\u00e9s manualment o b\u00e9 reiniciar directament l\u2019equip.</p>"},{"location":"unidad1/unidad/#verificacio-al-servidor","title":"Verificaci\u00f3 al servidor","text":"<p>Ara ens dirigim al nostre servidor receptor de la informaci\u00f3. 1. Obrim el navegador. 2. Introdu\u00efm la IP del nostre PC seguida del port 5000.  </p> <p>A la p\u00e0gina web creada amb Flask, podem observar:  </p> <ul> <li>La informaci\u00f3 de l\u2019ordinador.  </li> </ul> <p></p> <ul> <li>Els errors cr\u00edtics registrats.  </li> </ul> <p></p> <ul> <li>Els intents fallits d\u2019acc\u00e9s SSH.  </li> </ul> <p></p>"},{"location":"unidad1/unidad2/","title":"Red Team","text":"<p>En aquest apartat actuarem com a atacants, formant part d\u2019un red team. L\u2019objectiu de la pr\u00e0ctica \u00e9s desplegar un servei que instal\u00b7li i habiliti acc\u00e9s remot mitjan\u00e7ant SSH: crear\u00e0 un usuari local amb privilegis administratius, permetr\u00e0 l\u2019acc\u00e9s per SSH i enviar\u00e0 la informaci\u00f3 rellevant a una API personalitzada perqu\u00e8 es mostri al panell web.</p> <p>Disclaimer: Aquesta activitat nom\u00e9s s\u2019ha de realitzar en un entorn controlat i autoritzat (per exemple, VMs en un laboratori amb snapshots). No aplicar mai en equips de producci\u00f3 ni en m\u00e0quines alienes.</p>"},{"location":"unidad1/unidad2/#creacio-del-servei","title":"Creaci\u00f3 del servei","text":"<p>Crear la unitat systemd    Desprendreu el fitxer del servei a la ruta:</p> <pre><code>nano /etc/systemd/system/create-admin.service\n</code></pre> <p></p>"},{"location":"unidad1/unidad2/#crear-lscript","title":"Crear l\u2019script","text":"<p>A continuaci\u00f3, es crea l\u2019script que realitzar\u00e0 l\u2019acci\u00f3 (script <code>.sh</code>). Per raons de seguretat no s\u2019inclou el codi font en aquest document. Aquest arxiu s\u2019ha d\u2019ubicar a:</p> <pre><code>nano /usr/local/bin/create_admin.sh\n</code></pre> <p></p> <p>Permisos d\u2019execuci\u00f3 Cal donar permisos d\u2019execuci\u00f3 a l\u2019script perqu\u00e8 el servei pugui executar-lo.</p> <p></p> <p>Habilitar i iniciar el servei Un cop instal\u00b7lat el servei i l\u2019script: - Recarregar el daemon de systemd. - Habilitar el servei perqu\u00e8 s\u2019executi a l\u2019arrencada. - Iniciar el servei (o reiniciar la m\u00e0quina) per fer que s\u2019executi.</p> <p></p>"},{"location":"unidad1/unidad2/#resultat-i-visualitzacio","title":"Resultat i visualitzaci\u00f3","text":"<p>Un cop el proc\u00e9s s\u2019ha executat correctament, al servidor receptor d\u2019informaci\u00f3 (el collector) i al seu panell web podreu veure la notificaci\u00f3: - S\u2019ha creat el nou usuari administratiu. - Es mostra la contrasenya generada (si s\u2019ha creat). - Es mostra la IP i el nom del sistema. - Hi ha un bot\u00f3 per copiar la comanda SSH (<code>ssh usuari@ip</code>) i connectar-se des d\u2019un terminal.</p> <p></p> <p>Com que el mecanisme \u00e9s autom\u00e0tic i basat en blocs, es pot desplegar en m\u00faltiples equips del laboratori; per cada m\u00e0quina registrarem la data i hora de la creaci\u00f3, el nom de l\u2019equip, la IP, l\u2019usuari i la contrasenya.</p>"}]}